# ===================================
# hr-system 環境設定
# ===================================

# --- Git設定 ---
export GIT_AUTHOR_NAME="yasushihonda-acg"
export GIT_AUTHOR_EMAIL="248675557+yasushihonda-acg@users.noreply.github.com"
export GIT_COMMITTER_NAME="yasushihonda-acg"
export GIT_COMMITTER_EMAIL="248675557+yasushihonda-acg@users.noreply.github.com"

# --- GCP設定 ---
# gcloud configurationで自動切替
export CLOUDSDK_ACTIVE_CONFIG_NAME="hr-system"

# --- GitHub CLI設定 ---
# アクティブアカウントが異なる場合のみ切替（高速化）
_expected_gh_user="yasushihonda-acg"
_current_gh_user=$(gh auth status 2>&1 | grep "Active account: true" -B2 | head -1 | awk '{print $NF}' 2>/dev/null)
if [[ "$_current_gh_user" != "$_expected_gh_user" ]]; then
  gh auth switch --user "$_expected_gh_user" 2>/dev/null || true
fi
unset _expected_gh_user _current_gh_user
